---
## Front matter
lang: ru-RU
title: "Групповой проект. Тема: Рост дендритов"
subtitle: "Этап 3"
author:
	- Артамонов Т. Е.,
	- Федорина Э. В.,
	- Морозов М. E.,
	- Коротун И. И.,
	- Маслова А. С.
institute: Российский Университет Дружбы Народов, Moscow, Russian Federation

date: 7 марта 2024

## i18n babel
babel-lang: russian
babel-otherlangs: english

## Formatting pdf
toc: false
toc-title: Содержание
slide_level: 2
aspectratio: 169
section-titles: true
theme: metropolis
header-includes:
 - \metroset{progressbar=frametitle,sectionpage=progressbar,numbering=fraction}
 - '\makeatletter'
 - '\beamer@ignorenonframefalse'
 - '\makeatother'
---

# Информация

## Состав исследовательской команды

Студенты группы НКНбд-01-21

- Артамонов Тимофей Евгеньевич
- Федорина Эрнест Васильевич
- Морозов Михаил Евгеньвич
- Коротун Илья Игоревич
- Маслова Анастасия Сергеевна

# Вводная часть
На третьем этапе группового проекта нужно описание программную реализацию проекта. На прошлом этапе мы уже рассмотрели алогритм по которому мы будем двигаться при выполнении этого этапа. Приступим к описанию кода.

## Шаг 0 Используемые библиотеки 

- using Plots: Библиотека для визуализации данных. В данном коде используем для создания тепловой карты, отображающей состояние сетки после симуляции роста дендритов.



```Julia

using Plots


```
## Шаг 1 Параметры модели

Указываем основные параметрыры моделирования в качестве примера был взят цезий:

```Julia

const p = 1.873 #плотность
const t_melt = 28.7 #температура кристализации
const t0 = 29.8 #начальная температура границ кристалла
const c = 2180 #0.218 кДж удельная теплоемкость
const L = 15742 # 15.742 улельная теплота плавления
const S = c * (t_melt - t0) / L # Безразмерное переохлаждение
const k = 35.9 # Теплопроводность
const N = 100 # Размер сетки
const m = 3 # колличество обновлений температуры за шаг
const x = k / (p * c)  # коэффициент температуропроводности
const w = 1 / 2  # диагональный коэффициент
const y = 0.066  # поверхностное натяжение
const λ = y * t_melt * c / (p * L^2)
const d = 0.1  # Флуктуации температуры
            

```
## Шаг 2 Инициализация сетки
Создаем матрицу T размером N x N, инициализируя ее нулями - она задает темепературу на сетке.
Задаем начальную затравочную область в виде квадрата с заданным радиусом и центром.


```Julia
global T = fill(Float64(t0), N, N)
global n = zeros(Int, N, N)

# Инициализация затравочной области
center = N ÷ 2
radius = 5
for i in (center-radius):(center+radius)
    for j in (center-radius):(center+radius)
        if i > 0 && i <= N && j > 0 && j <= N
            T[i, j] = t_melt + 5  # повышаем температуру
            n[i, j] = 1  # устанавливаем в твердое состояние
        end
    end
end
          
```

## Шаг 3 Функция изменения температуры
Здесь мы используем уравнение теплопроводности. 

```Julia
function temperature_change!(T, N, m, x, w)
    T_tmp = copy(T)
    for i in 2:N-1
        for j in 2:N-1
            d2t = (T[i+1,j] + T[i-1,j] + T[i,j+1] + T[i,j-1] +
                   w * (T[i+1,j+1] + T[i+1,j-1] + T[i-1,j+1] + T[i-1,j-1])) / (4 + 4*w)
            T_tmp[i, j] = T[i, j] + x * d2t / m
        end
    end
    T .= T_tmp
end
```
## Шаг 4 Формула Гиббса-Томсона
Следующие служат нам для того чтобы посчитать радиус кривизны и реализовать замедление изменения температуры , связанного с поверхностным натяжении. На выступах число соседей у атомов меньше, чем во впадинах, поэтому атомам выгоднее заполнять впадины, восстанавливая ровную поверхность.


## Шаг 4 Функция для подсчета кривизны

```Julia
function count_curvature(n, i, j)
    n1 = n[i+1, j] + n[i, j+1] + n[i, j-1] + n[i-1, j]
    n2 = n[i+1, j+1] + w * n[i-1, j+1] + n[i-1, j-1] + n[i+1, j-1]
    R = 1 / (n1 + n2 - (5/2 + 5/2*w))
    return R
end

function gibbs_thomson(R)
    T_boundary = t_melt - λ / (c * R)
    return T_boundary
end
```

## Шаг 5 Функция для подсчета соседей
Функция считает колличество твердых соседей у клетки и необходима для реализации кристаллизации.

```Julia
function has_solid_neighbor(n, i, j)
    neighbors = [
        n[i-1, j], n[i+1, j], n[i, j-1], n[i, j+1],
        n[i-1, j-1], n[i-1, j+1], n[i+1, j-1], n[i+1, j+1]
    ]
    return any(neighbors .== 1)
end
```

## Шаг 6 Кристаллизация
Функция, которая использует все функции описанные выше и меняет состояние ячейки.

```Julia
function crystallise!(n, T, i, j)
    if has_solid_neighbor(n, i, j)
        R = count_curvature(n, i, j)
        T_boundary = gibbs_thomson(R)
        eta = 2 * rand() - 1
        if T[i, j] <= T_boundary * (1 + eta * d)
            n[i, j] = 1
        end
    end
end
```
## Шаг 7 Цикл
Так как рост температуры происходит гораздно быстрее роста кристаллов, то мы должны несколько раз за итерацию обновлять температуру. Этот цикл реализует этот процесс. 

```Julia

const steps = 30000
for step in 1:steps
    temperature_change!(T, N, m, x, w)
    for i in 2:N-1
        for j in 2:N-1
            crystallise!(n, T, i, j)
        end
    end
end

```
## Шаг 8 График модели
Рисуем график для нашей модели.


```Julia
plot(heatmap(n), title = "Кристаллизация", color = :blues)
```

![plot](image/1.png){ #fig:001 width=70%}




# Вывод
Модель роста дендритов, реализованная с использованием условия Гиббса-Томсона и уравнения теплопроводности, позволяет имитировать процесс затвердевания материала и формирования кристаллических структур. После завершения всех шагов симуляции, модель предоставляет визуализацию итогового состояния сетки с помощью тепловой карты. 
